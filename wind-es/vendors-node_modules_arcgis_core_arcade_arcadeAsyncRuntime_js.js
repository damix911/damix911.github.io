"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkwind_es"] = self["webpackChunkwind_es"] || []).push([["vendors-node_modules_arcgis_core_arcade_arcadeAsyncRuntime_js"],{

/***/ "./node_modules/@arcgis/core/arcade/arcadeAsyncRuntime.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/arcadeAsyncRuntime.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"executeScript\": () => (/* binding */ it),\n/* harmony export */   \"extend\": () => (/* binding */ ct),\n/* harmony export */   \"extractFieldLiterals\": () => (/* binding */ st),\n/* harmony export */   \"findFunctionCalls\": () => (/* binding */ ht),\n/* harmony export */   \"functionHelper\": () => (/* binding */ at),\n/* harmony export */   \"referencesFunction\": () => (/* binding */ ft),\n/* harmony export */   \"referencesMember\": () => (/* binding */ ut),\n/* harmony export */   \"validateScript\": () => (/* binding */ lt)\n/* harmony export */ });\n/* harmony import */ var _ArcadePortal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ArcadePortal.js */ \"./node_modules/@arcgis/core/arcade/ArcadePortal.js\");\n/* harmony import */ var _Attachment_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Attachment.js */ \"./node_modules/@arcgis/core/arcade/Attachment.js\");\n/* harmony import */ var _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Dictionary.js */ \"./node_modules/@arcgis/core/arcade/Dictionary.js\");\n/* harmony import */ var _Feature_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Feature.js */ \"./node_modules/@arcgis/core/arcade/Feature.js\");\n/* harmony import */ var _FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FunctionWrapper.js */ \"./node_modules/@arcgis/core/arcade/FunctionWrapper.js\");\n/* harmony import */ var _ImmutablePathArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ImmutablePathArray.js */ \"./node_modules/@arcgis/core/arcade/ImmutablePathArray.js\");\n/* harmony import */ var _ImmutablePointArray_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ImmutablePointArray.js */ \"./node_modules/@arcgis/core/arcade/ImmutablePointArray.js\");\n/* harmony import */ var _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../chunks/languageUtils.js */ \"./node_modules/@arcgis/core/chunks/languageUtils.js\");\n/* harmony import */ var _treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./treeAnalysis.js */ \"./node_modules/@arcgis/core/arcade/treeAnalysis.js\");\n/* harmony import */ var _featureset_support_shared_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./featureset/support/shared.js */ \"./node_modules/@arcgis/core/arcade/featureset/support/shared.js\");\n/* harmony import */ var _functions_array_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./functions/array.js */ \"./node_modules/@arcgis/core/arcade/functions/array.js\");\n/* harmony import */ var _functions_date_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./functions/date.js */ \"./node_modules/@arcgis/core/arcade/functions/date.js\");\n/* harmony import */ var _functions_geomasync_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./functions/geomasync.js */ \"./node_modules/@arcgis/core/arcade/functions/geomasync.js\");\n/* harmony import */ var _functions_geometry_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./functions/geometry.js */ \"./node_modules/@arcgis/core/arcade/functions/geometry.js\");\n/* harmony import */ var _functions_maths_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./functions/maths.js */ \"./node_modules/@arcgis/core/arcade/functions/maths.js\");\n/* harmony import */ var _functions_stats_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./functions/stats.js */ \"./node_modules/@arcgis/core/arcade/functions/stats.js\");\n/* harmony import */ var _functions_string_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./functions/string.js */ \"./node_modules/@arcgis/core/arcade/functions/string.js\");\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../core/promiseUtils.js */ \"./node_modules/@arcgis/core/core/promiseUtils.js\");\n/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../geometry/Extent.js */ \"./node_modules/@arcgis/core/geometry/Extent.js\");\n/* harmony import */ var _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../geometry/Geometry.js */ \"./node_modules/@arcgis/core/geometry/Geometry.js\");\n/* harmony import */ var _geometry_Multipoint_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../geometry/Multipoint.js */ \"./node_modules/@arcgis/core/geometry/Multipoint.js\");\n/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../geometry/Point.js */ \"./node_modules/@arcgis/core/geometry/Point.js\");\n/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../geometry/Polygon.js */ \"./node_modules/@arcgis/core/geometry/Polygon.js\");\n/* harmony import */ var _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../geometry/Polyline.js */ \"./node_modules/@arcgis/core/geometry/Polyline.js\");\n/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../geometry/SpatialReference.js */ \"./node_modules/@arcgis/core/geometry/SpatialReference.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction te(e){return e&&\"function\"==typeof e.then}const re=100;function ne(e){return e instanceof Error?(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.reject)(e):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.reject)(new Error(e))}function oe(e){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(e)}function ae(e,t){const r=[];for(let n=0;n<t.arguments.length;n++)r.push(se(e,t.arguments[n]));return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.all)(r)}function ce(e,t,r){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((n,o)=>{ae(e,t).then((a=>{try{n(r(e,t,a))}catch(c){o(c)}}),o)}))}function ie(e,t,r){try{return ae(e,t).then((n=>{try{const o=r(e,t,n);return te(o)?o:(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(o)}catch(o){return ne(o)}}))}catch(n){return ne(n)}}function se(e,t,r){try{if(t.breakpoint&&!0!==r){return t.breakpoint().then((()=>se(e,t,!0)))}switch(t.type){case\"VariableDeclarator\":return Me(e,t);case\"VariableDeclaration\":return Fe(e,t,0);case\"BlockStatement\":return Oe(e,t);case\"FunctionDeclaration\":return Ce(e,t);case\"ReturnStatement\":return Ue(e,t);case\"IfStatement\":return Re(e,t);case\"ExpressionStatement\":return Se(e,t);case\"UpdateExpression\":return Ie(e,t);case\"AssignmentExpression\":return Te(e,t);case\"ForStatement\":return de(e,t);case\"ForInStatement\":return Ne(e,t);case\"BreakStatement\":return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.k);case\"EmptyStatement\":return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v);case\"ContinueStatement\":return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.m);case\"TemplateElement\":return Ye(e,t);case\"TemplateLiteral\":return Ge(e,t);case\"Identifier\":return Ve(e,t);case\"MemberExpression\":return De(e,t);case\"Literal\":return oe(t.value);case\"CallExpression\":return Be(e,t);case\"UnaryExpression\":return je(e,t);case\"BinaryExpression\":return Le(e,t);case\"LogicalExpression\":return _e(e,t);case\"ConditionalExpression\":return ne((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"NOTSUPPORTED\"));case\"ArrayExpression\":return ke(e,t);case\"ObjectExpression\":return le(e,t);case\"Property\":return ue(e,t);default:return ne((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"UNREOGNISED\"))}}catch(n){return ne(n)}}function le(e,t){try{const n=[];for(let r=0;r<t.properties.length;r++)n.push(se(e,t.properties[r]));return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.all)(n).then((e=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)((t=>{const n={};for(let r=0;r<e.length;r++){const t=e[r];if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.c)(t.value))throw new Error(\"Illegal Argument\");if(!1===(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.f)(t.key))throw new Error(\"Illegal Argument\");t.value===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v?n[t.key.toString()]=null:n[t.key.toString()]=t.value}const o=new _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.default(n);o.immutable=!1,t(o)}))))}catch(n){return ne(n)}}function ue(e,t){try{return se(e,t.value).then((r=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)((n=>{\"Identifier\"===t.key.type?n({key:t.key.name,value:r}):se(e,t.key).then((e=>{n({key:e,value:r})}))}))))}catch(r){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.reject)(r)}}function fe(e,t,r){try{return se(e,t.body).then((n=>{try{return r.lastAction=n,r.lastAction===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.k||r.lastAction instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.R?(r.testResult=!1,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(r)):null!==t.update?se(e,t.update).then((()=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(r))):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(r)}catch(o){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.reject)(o)}}))}catch(n){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.reject)(n)}}function he(e,t,r){try{return null!==t.test?se(e,t.test).then((n=>{try{return!0===e.abortSignal.aborted?(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.reject)(new Error(\"Cancelled\")):(r.testResult=n,!1===r.testResult?(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(r):!0!==r.testResult?(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.reject)(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"CANNOT_USE_NONBOOLEAN_IN_CONDITION\"))):fe(e,t,r))}catch(o){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.reject)(o)}})):fe(e,t,r)}catch(n){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.reject)(n)}}function pe(e,t,r,n,o,a){try{he(e,t,r).then((()=>{try{!0===r.testResult?++a>re?(a=0,setTimeout((()=>{pe(e,t,r,n,o,a)}),0)):pe(e,t,r,n,o,a):r.lastAction instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.R?n(r.lastAction):n(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v)}catch(c){o(c)}}),(e=>{o(e)}))}catch(c){o(c)}}function de(e,t){try{return null!==t.init?se(e,t.init).then((()=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((r,n)=>{pe(e,t,{testResult:!0,lastAction:_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v},(e=>{r(e)}),(e=>{n(e)}),0)})))):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((r,n)=>{pe(e,t,{testResult:!0,lastAction:_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v},(e=>{r(e)}),(e=>{n(e)}),0)}))}catch(r){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.reject)(r)}}function me(e,t,r,n,o,a,c,i,s,l){try{if(n<=a)return void i(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v);o.value=\"k\"===c?r[a]:a,se(e,t.body).then((u=>{try{u instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.R?i(u):u===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.k?i(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v):++l>re?(l=0,setTimeout((()=>{me(e,t,r,n,o,a+1,c,i,s,l)}),0)):me(e,t,r,n,o,a+1,c,i,s,l)}catch(f){s(f)}}),(e=>{s(e)}))}catch(u){s(u)}}function ge(e,t,r,n,o,a,c,i,s){try{if(r.length()<=o)return void c(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v);n.value=\"k\"===a?r.get(o):o,se(e,t.body).then((l=>{l instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.R?c(l):l===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.k?c(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v):++s>re?(s=0,setTimeout((()=>{ge(e,t,r,n,o+1,a,c,i,s)}),0)):ge(e,t,r,n,o+1,a,c,i,s)}),(e=>{i(e)}))}catch(l){i(l)}}function Ee(e,t,r,n,o,a){try{if(void 0===a&&(a=\"i\"),0===r.length)return void n.resolve(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v);me(e,t,r,r.length,o,0,a,(e=>{n.resolve(e)}),(e=>{n.reject(e)}),0)}catch(c){n.reject(c)}}function ye(e,t,r,n,o,a){try{if(void 0===a&&(a=\"i\"),0===r.length)return void n.resolve(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v);ge(e,t,r,o,0,a,(e=>{n.resolve(e)}),(e=>{n.reject(e)}),0)}catch(c){n.reject(c)}}function we(e,t,r,n,o){try{Ee(e,t,r.keys(),n,o,\"k\")}catch(a){n.reject(a)}}function ve(e,t,r,o,a,c,i,s){try{e.next().then((l=>{try{if(null===l)c(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v);else{const u=_Feature_js__WEBPACK_IMPORTED_MODULE_3__.default.createFromGraphicLikeObject(l.geometry,l.attributes,o);u._underlyingGraphic=l,a.value=u;se(t,r.body).then((n=>{try{n===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.k?c(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v):n instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.R?c(n):++s>re?(s=0,setTimeout((()=>{ve(e,t,r,o,a,c,i,s)}),0)):ve(e,t,r,o,a,c,i,s)}catch(l){i(l)}}),(e=>{i(e)}))}}catch(u){i(u)}}),(e=>{i(e)}))}catch(l){i(l)}}function Ne(e,t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((o,a)=>{se(e,t.right).then((c=>{try{let i=null;i=\"VariableDeclaration\"===t.left.type?se(e,t.left):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(),i.then((()=>{try{let i=\"\";if(\"VariableDeclaration\"===t.left.type){const e=t.left.declarations[0].id;\"Identifier\"===e.type&&(i=e.name)}else\"Identifier\"===t.left.type&&(i=t.left.name);if(!i)throw new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"INVALIDVARIABLE\"));i=i.toLowerCase();let s=null;if(null!==e.localScope&&void 0!==e.localScope[i]&&(s=e.localScope[i]),null===s&&void 0!==e.globalScope[i]&&(s=e.globalScope[i]),null===s)return void a(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"VARIABLENOTDECLARED\")));(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.a)(c)||(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.f)(c)?Ee(e,t,c,{reject:a,resolve:o},s):(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.b)(c)?ye(e,t,c,{reject:a,resolve:o},s):c instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.default||c instanceof _Feature_js__WEBPACK_IMPORTED_MODULE_3__.default?we(e,t,c,{reject:a,resolve:o},s):(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.o)(c)?ve(c.iterator(e.abortSignal),e,t,c,s,(e=>{o(e)}),(e=>{a(e)}),0):Ee(e,t,[],{reject:a,resolve:o},s)}catch(i){a(i)}}),a)}catch(i){a(i)}}),a)}))}function Ie(e,t){try{const o=t.argument;if(\"MemberExpression\"===o.type){const a={t:null};return se(e,o.object).then((t=>{let r=null;return a.t=t,!0===o.computed?r=se(e,o.property):\"Identifier\"===o.property.type&&(r=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(o.property.name)),r})).then((e=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)((o=>{const c=a.t;let i;if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.a)(c)){if(!(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.j)(e))throw new Error(\"Invalid Parameter\");if(e<0&&(e=c.length+e),e<0||e>=c.length)throw new Error(\"Assignment outside of array bounds\");i=(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(c[e]),c[e]=\"++\"===t.operator?i+1:i-1}else if(c instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.default){if(!1===(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.f)(e))throw new Error(\"Dictionary accessor must be a string\");if(!0!==c.hasField(e))throw new Error(\"Invalid Parameter\");i=(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(c.field(e)),c.setField(e,\"++\"===t.operator?i+1:i-1)}else{if(!(c instanceof _Feature_js__WEBPACK_IMPORTED_MODULE_3__.default))throw (0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.b)(c)?new Error(\"Array is Immutable\"):new Error(\"Invalid Parameter\");if(!1===(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.f)(e))throw new Error(\"Feature accessor must be a string\");if(!0!==c.hasField(e))throw new Error(\"Invalid Parameter\");i=(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(c.field(e)),c.setField(e,\"++\"===t.operator?i+1:i-1)}!1===t.prefix?o(i):o(\"++\"===t.operator?i+1:i-1)}))))}return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((r,n)=>{const o=\"Identifier\"===t.argument.type?t.argument.name.toLowerCase():\"\";if(!o)throw new Error(\"Invalid identifier\");let a;return null!==e.localScope&&void 0!==e.localScope[o]?(a=(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(e.localScope[o].value),e.localScope[o]={value:\"++\"===t.operator?a+1:a-1,valueset:!0,node:t},void(!1===t.prefix?r(a):r(\"++\"===t.operator?a+1:a-1))):void 0!==e.globalScope[o]?(a=(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(e.globalScope[o].value),e.globalScope[o]={value:\"++\"===t.operator?a+1:a-1,valueset:!0,node:t},void(!1===t.prefix?r(a):r(\"++\"===t.operator?a+1:a-1))):void n(new Error(\"Variable not recognised\"))}))}catch(o){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.reject)(o)}}function be(e,t,r,n){switch(t){case\"=\":return e===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v?null:e;case\"/=\":return (0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(r)/(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(e);case\"*=\":return (0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(r)*(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(e);case\"-=\":return (0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(r)-(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(e);case\"+=\":return (0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.f)(r)||(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.f)(e)?(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.d)(r)+(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.d)(e):(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(r)+(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(e);case\"%=\":return (0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(r)%(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(e);default:throw new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(n,\"RUNTIME\",\"OPERATORNOTRECOGNISED\"))}}function Te(e,t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((o,a)=>{const c=t.left;if(\"MemberExpression\"===c.type)se(e,t.right).then((i=>{try{se(e,c.object).then((s=>{try{let l=null;if(!0===c.computed)l=se(e,c.property);else{if(\"Identifier\"!==c.property.type)throw new Error(\"Expected computed or identifier for assignemnt target\");l=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(c.property.name)}l.then((e=>{try{if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.a)(s)){if(!(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.j)(e))throw new Error(\"Invalid Parameter\");if(e<0&&(e=s.length+e),e<0||e>s.length)throw new Error(\"Assignment outside of array bounds\");if(e===s.length){if(\"=\"!==t.operator)throw new Error(\"Invalid Parameter\");s[e]=be(i,t.operator,s[e],t)}else s[e]=be(i,t.operator,s[e],t)}else if(s instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.default){if(!1===(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.f)(e))throw new Error(\"Dictionary accessor must be a string\");if(!0===s.hasField(e))s.setField(e,be(i,t.operator,s.field(e),t));else{if(\"=\"!==t.operator)throw new Error(\"Invalid Parameter\");s.setField(e,be(i,t.operator,null,t))}}else{if(!(s instanceof _Feature_js__WEBPACK_IMPORTED_MODULE_3__.default))throw (0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.b)(s)?new Error(\"Array is Immutable\"):new Error(\"Invalid Parameter\");if(!1===(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.f)(e))throw new Error(\"Feature accessor must be a string\");if(!0===s.hasField(e))s.setField(e,be(i,t.operator,s.field(e),t));else{if(\"=\"!==t.operator)throw new Error(\"Invalid Parameter\");s.setField(e,be(i,t.operator,null,t))}}o(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v)}catch(c){a(c)}}),a)}catch(l){a(l)}}),a)}catch(s){a(s)}}),a);else{const r=c.name.toLowerCase();if(null!==e.localScope&&void 0!==e.localScope[r])return void se(e,t.right).then((n=>{try{e.localScope[r]={value:be(n,t.operator,e.localScope[r].value,t),valueset:!0,node:t.right},o(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v)}catch(c){a(c)}}),a);void 0!==e.globalScope[r]?se(e,t.right).then((n=>{try{e.globalScope[r]={value:be(n,t.operator,e.globalScope[r].value,t),valueset:!0,node:t.right},o(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v)}catch(c){a(c)}}),a):a(new Error(\"Cannot assign undeclared variable\"))}}))}function Se(e,t){try{return\"AssignmentExpression\"===t.expression.type?se(e,t.expression):(t.expression.type,se(e,t.expression).then((e=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)((t=>{t(e===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v?_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v:new _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.I(e))})))))}catch(r){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.reject)(r)}}function Re(e,t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((r,n)=>{\"AssignmentExpression\"!==t.test.type&&\"UpdateExpression\"!==t.test.type?se(e,t.test).then((o=>{try{!0===o?se(e,t.consequent).then(r,n):!1===o?null!==t.alternate?se(e,t.alternate).then(r,n):r(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v):n(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t.test,\"RUNTIME\",\"CANNOT_USE_NONBOOLEAN_IN_CONDITION\")))}catch(a){n(a)}}),n):n(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t.test,\"RUNTIME\",\"CANNOT_USE_ASSIGNMENT_IN_CONDITION\")))}))}function Oe(e,t){try{return Ae(e,t,0)}catch(r){return ne(r)}}function Ae(e,t,r){try{return r>=t.body.length?(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((n,o)=>{se(e,t.body[r]).then((a=>{try{a instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.R||a===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.k||a===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.m||r===t.body.length-1?n(a):Ae(e,t,r+1).then(n,o)}catch(c){o(c)}}),o)}))}catch(n){return ne(n)}}function Ue(e,t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((r,n)=>{null===t.argument?r(new _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.R(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v)):se(e,t.argument).then((e=>{try{r(new _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.R(e))}catch(t){n(t)}}),n)}))}function Ce(e,t){try{const r=t.id.name.toLowerCase();return e.globalScope[r]={valueset:!0,node:null,value:new _FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_4__.default(t,e)},(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v)}catch(r){return ne(r)}}function Fe(e,t,r){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((n,o)=>{r>=t.declarations.length?n(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v):se(e,t.declarations[r]).then((()=>{r===t.declarations.length-1?n(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v):Fe(e,t,r+1).then((()=>{n(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v)}),o)}),o)}))}function Me(e,t){try{let r=null;return r=null===t.init?(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(null):se(e,t.init),null!==e.localScope?r.then((r=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)((n=>{if(r===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v&&(r=null),\"Identifier\"!==t.id.type)throw new Error(\"Can only assign a regular variable\");const o=t.id.name.toLowerCase();e.localScope[o]={value:r,valueset:!0,node:t.init},n(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v)})))):r.then((r=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)((n=>{if(\"Identifier\"!==t.id.type)throw new Error(\"Can only assign a regular variable\");const o=t.id.name.toLowerCase();r===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v&&(r=null),e.globalScope[o]={value:r,valueset:!0,node:t.init},n(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v)}))))}catch(r){return ne(r)}}let xe=0;function Pe(e,t,n,o){let i;switch(t=t.toLowerCase()){case\"hasz\":{const t=e.hasZ;return void 0!==t&&t}case\"hasm\":{const t=e.hasM;return void 0!==t&&t}case\"spatialreference\":{let t=e.spatialReference._arcadeCacheId;if(void 0===t){let r=!0;Object.freeze&&Object.isFrozen(e.spatialReference)&&(r=!1),r&&(xe++,e.spatialReference._arcadeCacheId=xe,t=xe)}const n=new _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.default({wkt:e.spatialReference.wkt,wkid:e.spatialReference.wkid});return void 0!==t&&(n._arcadeCacheId=\"SPREF\"+t.toString()),n}}switch(e.type){case\"extent\":switch(t){case\"xmin\":case\"xmax\":case\"ymin\":case\"ymax\":case\"zmin\":case\"zmax\":case\"mmin\":case\"mmax\":{const r=e[t];return void 0!==r?r:null}case\"type\":return\"Extent\"}break;case\"polygon\":switch(t){case\"rings\":i=e.cache._arcadeCacheId,void 0===i&&(xe++,i=xe,e.cache._arcadeCacheId=i);return new _ImmutablePathArray_js__WEBPACK_IMPORTED_MODULE_5__.default(e.rings,e.spatialReference,!0===e.hasZ,!0===e.hasM,i);case\"type\":return\"Polygon\"}break;case\"point\":switch(t){case\"x\":case\"y\":case\"z\":case\"m\":return void 0!==e[t]?e[t]:null;case\"type\":return\"Point\"}break;case\"polyline\":switch(t){case\"paths\":i=e.cache._arcadeCacheId,void 0===i&&(xe++,i=xe,e.cache._arcadeCacheId=i);return new _ImmutablePathArray_js__WEBPACK_IMPORTED_MODULE_5__.default(e.paths,e.spatialReference,!0===e.hasZ,!0===e.hasM,i);case\"type\":return\"Polyline\"}break;case\"multipoint\":switch(t){case\"points\":i=e.cache._arcadeCacheId,void 0===i&&(xe++,i=xe,e.cache._arcadeCacheId=i);return new _ImmutablePointArray_js__WEBPACK_IMPORTED_MODULE_6__.default(e.points,e.spatialReference,!0===e.hasZ,!0===e.hasM,i,1);case\"type\":return\"Multipoint\"}}throw new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(o,\"RUNTIME\",\"PROPERTYNOTFOUND\"))}function De(e,t){try{return se(e,t.object).then((o=>{try{return null===o?(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.reject)(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"NOTFOUND\"))):!1===t.computed?\"Identifier\"===t.property.type?o instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.default||o instanceof _Feature_js__WEBPACK_IMPORTED_MODULE_3__.default?(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(o.field(t.property.name)):o instanceof _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_19__.default?(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(Pe(o,t.property.name,e,t)):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.reject)(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"INVALIDTYPE\"))):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.reject)(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"INVALIDTYPE\"))):se(e,t.property).then((a=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((c,i)=>{if(o instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.default||o instanceof _Feature_js__WEBPACK_IMPORTED_MODULE_3__.default)(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.f)(a)?c(o.field(a)):i(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"INVALIDTYPE\")));else if(o instanceof _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_19__.default)(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.f)(a)?c(Pe(o,a,e,t)):i(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"INVALIDTYPE\")));else if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.a)(o))if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.j)(a)&&isFinite(a)&&Math.floor(a)===a){if(a<0&&(a=o.length+a),a>=o.length||a<0)throw new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"OUTOFBOUNDS\"));c(o[a])}else i(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"INVALIDTYPE\")));else if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.b)(o))if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.j)(a)&&isFinite(a)&&Math.floor(a)===a){if(a<0&&(a=o.length()+a),a>=o.length()||a<0)throw new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"OUTOFBOUNDS\"));c(o.get(a))}else i(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"INVALIDTYPE\")));else if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.f)(o))if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.j)(a)&&isFinite(a)&&Math.floor(a)===a){if(a<0&&(a=o.length+a),a>=o.length||a<0)throw new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"OUTOFBOUNDS\"));c(o[a])}else i(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"INVALIDTYPE\")));else i(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"INVALIDTYPE\")))}))))}catch(a){return ne(a)}}))}catch(o){return ne(o)}}function je(e,t){try{return se(e,t.argument).then((e=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((r,n)=>{(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.i)(e)&&\"!\"===t.operator?r(!e):\"-\"===t.operator?r(-1*(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(e)):\"+\"===t.operator?r(1*(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(e)):\"~\"===t.operator?r(~(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(e)):n(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"NOTSUPPORTEDUNARYOPERATOR\")))}))))}catch(r){return ne(r)}}function ke(e,t){try{const r=[];for(let n=0;n<t.elements.length;n++)r.push(se(e,t.elements[n]));return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.all)(r).then((e=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((r,n)=>{for(let o=0;o<e.length;o++){if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.c)(e[o]))return void n(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"FUNCTIONCONTEXTILLEGAL\")));e[o]===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v&&(e[o]=null)}r(e)}))))}catch(r){return ne(r)}}function Le(e,t){try{return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.all)([se(e,t.left),se(e,t.right)]).then((e=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((r,n)=>{const o=e[0],a=e[1];switch(t.operator){case\"|\":case\"<<\":case\">>\":case\">>>\":case\"^\":case\"&\":r((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.h)((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(o),(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(a),t.operator));case\"==\":r((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.e)(o,a));break;case\"!=\":r(!(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.e)(o,a));break;case\"<\":case\">\":case\"<=\":case\">=\":r((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.g)(o,a,t.operator));break;case\"+\":(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.f)(o)||(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.f)(a)?r((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.d)(o)+(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.d)(a)):r((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(o)+(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(a));break;case\"-\":r((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(o)-(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(a));break;case\"*\":r((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(o)*(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(a));break;case\"/\":r((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(o)/(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(a));break;case\"%\":r((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(o)%(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.t)(a));break;default:n(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"OPERATORNOTRECOGNISED\")))}}))))}catch(r){return ne(r)}}function _e(e,t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((r,n)=>{\"AssignmentExpression\"!==t.left.type&&\"UpdateExpression\"!==t.left.type?\"AssignmentExpression\"!==t.right.type&&\"UpdateExpression\"!==t.right.type?se(e,t.left).then((o=>{try{if(!(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.i)(o))throw new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"ONLYBOOLEAN\"));switch(t.operator){case\"||\":!0===o?r(o):se(e,t.right).then((e=>{try{if(!(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.i)(e))throw new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"ONLYORORAND\"));r(e)}catch(o){n(o)}}),n);break;case\"&&\":!1===o?r(o):se(e,t.right).then((e=>{try{if(!(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.i)(e))throw new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"ONLYORORAND\"));r(e)}catch(o){n(o)}}),n);break;default:throw new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"ONLYORORAND\"))}}catch(a){n(a)}}),n):n(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t.right,\"RUNTIME\",\"CANNOT_USE_ASSIGNMENT_IN_CONDITION\"))):n(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t.left,\"RUNTIME\",\"CANNOT_USE_ASSIGNMENT_IN_CONDITION\")))}))}function Ve(e,t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((r,n)=>{const o=t.name.toLowerCase();if(null===e.localScope||void 0===e.localScope[o])if(void 0===e.globalScope[o])n(new Error((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"VARIABLENOTFOUND\")));else{const t=e.globalScope[o];!0===t.valueset?r(t.value):null!==t.d?t.d.then(r,n):(t.d=se(e,t.node),t.d.then((e=>{try{t.value=e,t.valueset=!0,r(e)}catch(o){n(o)}}),n))}else{const t=e.localScope[o];!0===t.valueset?r(t.value):null!==t.d?t.d.then(r,n):(t.d=se(e,t.node),t.d.then((e=>{try{t.value=e,t.valueset=!0,r(e)}catch(o){n(o)}}),n))}}))}function Be(e,t){try{if(\"Identifier\"!==t.callee.type)return ne((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"ONLYNODESSUPPORTED\"));if(null!==e.localScope&&void 0!==e.localScope[t.callee.name.toLowerCase()]){const r=e.localScope[t.callee.name.toLowerCase()];return r.value instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.N?r.value.fn(e,t):r.value instanceof _FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_4__.default?$e(e,t,r.value.definition):ne((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"NOTAFUNCTION\"))}if(void 0!==e.globalScope[t.callee.name.toLowerCase()]){const r=e.globalScope[t.callee.name.toLowerCase()];return r.value instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.N?r.value.fn(e,t):r.value instanceof _FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_4__.default?$e(e,t,r.value.definition):ne((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"NOTAFUNCTION\"))}return ne((0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.nodeErrorMessage)(t,\"RUNTIME\",\"NOTFOUND\"))}catch(r){return ne(r)}}function Ye(e,t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(t.value?t.value.cooked:\"\")}function Ge(e,t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)((r=>{const n=[];(0,_featureset_support_shared_js__WEBPACK_IMPORTED_MODULE_9__.reduceArrayWithPromises)(t.expressions,((t,r,o,a)=>se(e,r).then((e=>{n[o]=(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.d)(e)})))).then((()=>{let e=\"\",o=0;for(const r of t.quasis)if(e+=r.value?r.value.cooked:\"\",!1===r.tail){e+=n[o]?n[o]:\"\",o++}r(e)}))}))}const ze={};function qe(o){return null===o?\"\":(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.a)(o)||(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.b)(o)?\"Array\":(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.n)(o)?\"Date\":(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.f)(o)?\"String\":(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.i)(o)?\"Boolean\":(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.j)(o)?\"Number\":o instanceof _Attachment_js__WEBPACK_IMPORTED_MODULE_1__.default?\"Attachment\":o instanceof _ArcadePortal_js__WEBPACK_IMPORTED_MODULE_0__.default?\"Portal\":o instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.default?\"Dictionary\":o instanceof _Feature_js__WEBPACK_IMPORTED_MODULE_3__.default?\"Feature\":o instanceof _geometry_Point_js__WEBPACK_IMPORTED_MODULE_21__.default?\"Point\":o instanceof _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_22__.default?\"Polygon\":o instanceof _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_23__.default?\"Polyline\":o instanceof _geometry_Multipoint_js__WEBPACK_IMPORTED_MODULE_20__.default?\"Multipoint\":o instanceof _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_18__.default?\"Extent\":(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.c)(o)?\"Function\":(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.o)(o)?\"FeatureSet\":(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.q)(o)?\"FeatureSetCollection\":o===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v?\"\":\"number\"==typeof o&&isNaN(o)?\"Number\":\"Unrecognised Type\"}function He(e,t,r,n){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((o,a)=>{se(e,t.arguments[r]).then((c=>{try{if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.e)(c,n))return void se(e,t.arguments[r+1]).then(o,a);{const c=t.arguments.length-r;return 1===c?void se(e,t.arguments[r]).then(o,a):(2===c&&o(null),3===c?void se(e,t.arguments[r+2]).then(o,a):void He(e,t,r+2,n).then(o,a))}}catch(i){a(i)}}),a)}))}function Ze(e,t,r,n){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((o,a)=>{if(!0===n)se(e,t.arguments[r+1]).then(o,a);else{3===t.arguments.length-r?se(e,t.arguments[r+2]).then(o,a):se(e,t.arguments[r+2]).then((n=>{try{if(!1===(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.i)(n))return void a(new Error(\"WHEN needs boolean test conditions\"));Ze(e,t,r+2,n).then(o,a)}catch(c){a(c)}}))}}))}function We(e,t){try{const r=e.length,n=Math.floor(r/2);return 0===r?(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)([]):1===r?(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)([e[0]]):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((o,a)=>{const c=[We(e.slice(0,n),t),We(e.slice(n,r),t)];(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.all)(c).then((e=>{try{Ke(e[0],e[1],t,[]).then(o,a)}catch(r){a(r)}}),a)}))}catch(r){return ne(r)}}function Ke(e,t,r,n){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((o,a)=>{const c=n;e.length>0||t.length>0?e.length>0&&t.length>0?r(e[0],t[0]).then((i=>{try{isNaN(i)&&(i=1),i<=0?(c.push(e[0]),e=e.slice(1)):(c.push(t[0]),t=t.slice(1)),Ke(e,t,r,n).then(o,a)}catch(s){a(s)}}),a):e.length>0?(c.push(e[0]),Ke(e=e.slice(1),t,r,n).then(o,a)):t.length>0&&(c.push(t[0]),t=t.slice(1),Ke(e,t,r,n).then(o,a)):o(n)}))}function Xe(e,t){const r=e.length,n=Math.floor(r/2);return t||(t=function(e,t){return e<t?-1:e===t?0:1}),0===r?[]:1===r?[e[0]]:Je(Xe(e.slice(0,n),t),Xe(e.slice(n,r),t),t)}function Je(e,t,r){const n=[];for(;e.length>0||t.length>0;)if(e.length>0&&t.length>0){let o=r(e[0],t[0]);isNaN(o)&&(o=1),o<=0?(n.push(e[0]),e=e.slice(1)):(n.push(t[0]),t=t.slice(1))}else e.length>0?(n.push(e[0]),e=e.slice(1)):t.length>0&&(n.push(t[0]),t=t.slice(1));return n}function Qe(e,t,r){try{const n=e.body;if(r.length!==e.params.length)return ne(new Error(\"Invalid Parameter calls to function.\"));for(let o=0;o<r.length;o++){const n=e.params[o];\"Identifier\"===n.type&&(t.localScope[n.name.toLowerCase()]={d:null,value:r[o],valueset:!0,node:null})}return se(t,n).then((e=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((t,r)=>{e instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.R?t(e.value):e!==_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.k?e!==_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.m?t(e instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.I?e.value:e):r(new Error(\"Cannot Continue from a Function\")):r(new Error(\"Cannot Break from a Function\"))}))))}catch(n){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.reject)(n)}}function $e(e,t,r){return ie(e,t,(function(t,n,o){const a={spatialReference:e.spatialReference,services:e.services,console:e.console,lrucache:e.lrucache,interceptor:e.interceptor,localScope:{},abortSignal:e.abortSignal,globalScope:e.globalScope,depthCounter:e.depthCounter+1};if(a.depthCounter>64)throw new Error(\"Exceeded maximum function depth\");return Qe(r,a,o)}))}function et(e){return function(){const t={abortSignal:e.context.abortSignal,spatialReference:e.context.spatialReference,console:e.context.console,lrucache:e.context.lrucache,interceptor:e.context.interceptor,services:e.context.services,localScope:{},globalScope:e.context.globalScope,depthCounter:e.context.depthCounter+1};if(t.depthCounter>64)throw new Error(\"Exceeded maximum function depth\");return Qe(e.definition,t,arguments)}}(0,_functions_array_js__WEBPACK_IMPORTED_MODULE_10__.registerFunctions)(ze,ce),(0,_functions_date_js__WEBPACK_IMPORTED_MODULE_11__.registerFunctions)(ze,ce),(0,_functions_string_js__WEBPACK_IMPORTED_MODULE_16__.registerFunctions)(ze,ce),(0,_functions_maths_js__WEBPACK_IMPORTED_MODULE_14__.registerFunctions)(ze,ce),(0,_functions_geometry_js__WEBPACK_IMPORTED_MODULE_13__.registerFunctions)(ze,ce),(0,_functions_stats_js__WEBPACK_IMPORTED_MODULE_15__.registerFunctions)(ze,ce),(0,_functions_geomasync_js__WEBPACK_IMPORTED_MODULE_12__.registerFunctions)({functions:ze,compiled:!1,signatures:null,failDefferred:null,evaluateIdentifier:null,arcadeCustomFunctionHandler:null,mode:\"async\",standardFunction:ce,standardFunctionAsync:ie}),ze.typeof=function(e,t){return ce(e,t,(function(e,t,r){(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.p)(r,1,1);const n=qe(r[0]);if(\"Unrecognised Type\"===n)throw new Error(\"Unrecognised Type\");return n}))},ze.iif=function(e,t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((r,n)=>{(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.p)(null===t.arguments?[]:t.arguments,3,3),se(e,t.arguments[0]).then((o=>{try{if(!1===(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.i)(o))return void n(new Error(\"IF Function must have a boolean test condition\"));(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.all)([se(e,t.arguments[1]),se(e,t.arguments[2])]).then((e=>{r(o?e[0]:e[1])}),n)}catch(a){n(a)}}),n)}))},ze.decode=function(e,t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((r,n)=>{t.arguments.length<2?n(new Error(\"Missing Parameters\")):2!==t.arguments.length?(t.arguments.length-1)%2!=0?se(e,t.arguments[0]).then((o=>{try{He(e,t,1,o).then(r,n)}catch(a){n(a)}}),n):n(new Error(\"Must have a default value result.\")):se(e,t.arguments[1]).then(r,n)}))},ze.when=function(e,t){try{return t.arguments.length<3?ne(\"Missing Parameters\"):t.arguments.length%2==0?ne(\"Must have a default value result.\"):se(e,t.arguments[0]).then((r=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((n,o)=>{if(!1===(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.i)(r))return void o(new Error(\"WHEN needs boolean test conditions\"));Ze(e,t,0,r).then(n,o)}))))}catch(r){return ne(r)}},ze.sort=function(e,t){return ie(e,t,(function(e,t,r){(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.p)(r,1,2);let n=r[0];if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.b)(n)&&(n=n.toArray()),!1===(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.a)(n))return ne(Error(\"Illegal Argument\"));if(r.length>1){if(!1===(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.c)(r[1]))return ne(Error(\"Illegal Argument\"));return We(n,et(r[1]))}{let e=n;if(0===e.length)return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)([]);const t={};for(let n=0;n<e.length;n++){const r=qe(e[n]);\"\"!==r&&(t[r]=!0)}if(!0===t.Array||!0===t.Dictionary||!0===t.Feature||!0===t.Point||!0===t.Polygon||!0===t.Polyline||!0===t.Multipoint||!0===t.Extent||!0===t.Function)return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(e.slice(0));let r=0,o=\"\";for(const n in t)r++,o=n;return r>1||\"String\"===o?e=Xe(e,(function(e,t){if(null==e||e===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v)return null==t||t===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v?0:1;if(null==t||t===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v)return-1;const r=(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.d)(e),n=(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.d)(t);return r<n?-1:r===n?0:1})):\"Number\"===o?e=Xe(e,(function(e,t){return e-t})):\"Boolean\"===o?e=Xe(e,(function(e,t){return e===t?0:t?-1:1})):\"Date\"===o&&(e=Xe(e,(function(e,t){return t-e}))),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.resolve)(e)}}))};const tt={failDefferred:ne,resolveDeffered:oe,fixSpatialReference:_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.r,parseArguments:ae,standardFunction:ce,standardFunctionAsync:ie,evaluateIdentifier:Ve,arcadeCustomFunction:et};for(const pt in ze)ze[pt]={value:new _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.N(ze[pt]),valueset:!0,node:null};const rt=function(){};function nt(e,t){const o=new rt;null==e&&(e={}),null==t&&(t={});const a=new _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.default({newline:\"\\n\",tab:\"\\t\",singlequote:\"'\",doublequote:'\"',forwardslash:\"/\",backwardslash:\"\\\\\"});a.immutable=!1,o.textformatting={value:a,valueset:!0,node:null};for(const r in t)o[r]={value:new _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.N(t[r]),native:!0,valueset:!0,node:null};for(const r in e)e[r]&&\"esri.Graphic\"===e[r].declaredClass?o[r]={value:_Feature_js__WEBPACK_IMPORTED_MODULE_3__.default.createFromGraphic(e[r]),valueset:!0,node:null}:o[r]={value:e[r],valueset:!0,node:null};return o}function ot(e){console.log(e)}rt.prototype=ze,rt.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},rt.prototype.pi={value:Math.PI,valueset:!0,node:null};const at=tt;function ct(e){const t={mode:\"async\",compiled:!1,functions:{},signatures:[],standardFunction:ce,standardFunctionAsync:ie,failDefferred:ne,evaluateIdentifier:Ve,arcadeCustomFunctionHandler:et};for(let r=0;r<e.length;r++)e[r].registerFunctions(t);for(const r in t.functions)ze[r]={value:new _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.N(t.functions[r]),valueset:!0,node:null},rt.prototype[r]=ze[r];for(let r=0;r<t.signatures.length;r++)(0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.addFunctionDeclaration)(t.signatures[r],\"async\")}function it(e,t){let r=t.spatialReference;null==r&&(r=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_24__.default({wkid:102100}));const n=nt(t.vars,t.customfunctions);return se({spatialReference:r,services:t.services,abortSignal:void 0===t.abortSignal||null===t.abortSignal?{aborted:!1}:t.abortSignal,globalScope:n,console:t.console?t.console:ot,lrucache:t.lrucache,interceptor:t.interceptor,localScope:null,depthCounter:1},e.body[0].body).then((e=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_17__.create)(((t,r)=>{e instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.R&&(e=e.value),e instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.I&&(e=e.value),e===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.v&&(e=null),e!==_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.k?e!==_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.m?e instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_7__.N||e instanceof _FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_4__.default?r(new Error(\"Cannot return FUNCTION\")):t(e):r(new Error(\"Cannot return CONTINUE\")):r(new Error(\"Cannot return BREAK\"))}))))}function st(e,t){return (0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.findFieldLiterals)(e)}function lt(e,t){return (0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.validateScript)(e,t,\"full\")}function ut(e,t){return (0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.referencesMember)(e,t)}function ft(e,t){return (0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.referencesFunction)(e,t)}function ht(e){return (0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_8__.findFunctionCalls)(e)}\n\n\n//# sourceURL=webpack://wind-es/./node_modules/@arcgis/core/arcade/arcadeAsyncRuntime.js?");

/***/ })

}]);