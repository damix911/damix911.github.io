"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkwind_es"] = self["webpackChunkwind_es"] || []).push([["vendors-node_modules_arcgis_core_layers_ogc_ogcFeatureUtils_js"],{

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createOptimizedFeatures\": () => (/* binding */ k),\n/* harmony export */   \"getGeometryType\": () => (/* binding */ r),\n/* harmony export */   \"inferLayerProperties\": () => (/* binding */ T),\n/* harmony export */   \"validateGeoJSON\": () => (/* binding */ I)\n/* harmony export */ });\n/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ \"./node_modules/@arcgis/core/core/Error.js\");\n/* harmony import */ var _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../OptimizedFeature.js */ \"./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js\");\n/* harmony import */ var _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../OptimizedGeometry.js */ \"./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nconst o={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function r(e){return o[e]}function*i(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*s(e){if(!e)return null;switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function*c(e,o={}){const{geometryType:i,objectIdField:s}=o;for(const u of e){var c;const{geometry:e,properties:l,id:f}=u;if(e&&r(e.type)!==i)continue;const a=l||{};let y=null!=(c=a[s])?c:null;s&&null!=f&&!a[s]&&(a[s]=y=f);const d=new _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.default(e?p(new _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__.default,e,o):null,a,null,y);yield d}}function u(e){for(const t of e)if(t.length>2)return!0;return!1}function l(e){return!a(e)}function f(e){return a(e)}function a(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function y(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function p(e,t,n){switch(t.type){case\"LineString\":return d(e,t,n);case\"MultiLineString\":return g(e,t,n);case\"MultiPoint\":return m(e,t,n);case\"MultiPolygon\":return h(e,t,n);case\"Point\":return w(e,t,n);case\"Polygon\":return P(e,t,n)}}function d(e,t,n){return S(e,t.coordinates,n),e}function g(e,t,n){for(const o of t.coordinates)S(e,o,n);return e}function m(e,t,n){return S(e,t.coordinates,n),e}function h(e,t,n){for(const o of t.coordinates){b(e,o[0],n);for(let t=1;t<o.length;t++)j(e,o[t],n)}return e}function w(e,t,n){return G(e,t.coordinates,n),e}function P(e,t,n){const o=t.coordinates;b(e,o[0],n);for(let r=1;r<o.length;r++)j(e,o[r],n);return e}function b(e,t,n){const o=y(t);l(o)?F(e,o,n):S(e,o,n)}function j(e,t,n){const o=y(t);f(o)?F(e,o,n):S(e,o,n)}function S(e,t,n){for(const o of t)G(e,o,n);e.lengths.push(t.length)}function F(e,t,n){for(let o=t.length-1;o>=0;o--)G(e,t[o],n);e.lengths.push(t.length)}function G(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function M(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function I(t){if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__.default(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__.default(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:\"EPSG\"===n.type?n.properties.code:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__.default(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function T(e,t={}){const n=[],o=new Set,c=new Set;let l,f=!1,a=Number.NEGATIVE_INFINITY,y=null,p=!1,{geometryType:d=null}=t,g=!1;for(const h of i(e)){const{geometry:e,properties:t,id:i}=h;if(!e||(d||(d=r(e.type)),r(e.type)===d)){if(!f){f=u(s(e))}if(p||(p=null!=i,p&&(l=typeof i,\"number\"===l&&(y=Object.keys(t).filter((e=>t[e]===i))))),p&&\"number\"===l&&null!=i&&(a=Math.max(a,i),y.length>1?y=y.filter((e=>t[e]===i)):1===y.length&&(y=t[y[0]]===i?y:[])),!g&&t){let e=!0;for(const r in t){if(o.has(r))continue;const i=t[r];if(null==i){e=!1,c.add(r);continue}const s=M(i);\"unknown\"!==s?(c.delete(r),o.add(r),n.push({name:r,alias:r,type:s})):c.add(r)}g=e}}}const m=y&&1===y.length&&y[0]||null;if(m)for(const r of n)r.name===m&&(r.type=\"esriFieldTypeOID\");return{fields:n,geometryType:d,hasZ:f,maxObjectId:Math.max(0,a),objectIdFieldName:m,objectIdFieldType:l,unknownFields:Array.from(c)}}function k(e,t){return Array.from(c(i(e),t))}\n\n\n//# sourceURL=webpack://wind-es/./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createCapabilities\": () => (/* binding */ a),\n/* harmony export */   \"createDefaultAttributesFunction\": () => (/* binding */ n),\n/* harmony export */   \"createDefaultTemplate\": () => (/* binding */ i),\n/* harmony export */   \"createDrawingInfo\": () => (/* binding */ u)\n/* harmony export */ });\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ \"./node_modules/@arcgis/core/core/has.js\");\n/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/lang.js */ \"./node_modules/@arcgis/core/core/lang.js\");\n/* harmony import */ var _data_QueryEngineCapabilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/QueryEngineCapabilities.js */ \"./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js\");\n/* harmony import */ var _symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../symbols/support/defaultsJSON.js */ \"./node_modules/@arcgis/core/symbols/support/defaultsJSON.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction u(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__.defaultPointSymbolJSON:\"esriGeometryPolyline\"===t?_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__.defaultPolylineSymbolJSON:_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__.defaultPolygonSymbolJSON}}}function n(s,e){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__.default)(\"csp-restrictions\"))return()=>({[e]:null,...s});try{let t=`this.${e} = null;`;for(const e in s){t+=`this${e.indexOf(\".\")?`[\"${e}\"]`:`.${e}`} = ${JSON.stringify(s[e])};`}const r=new Function(t);return()=>new r}catch(r){return()=>({[e]:null,...s})}}function i(t={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(t)}}]}function a(t,s){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:s,supportsDelete:s,supportsEditing:s,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:s,supportsExceedsLimitStatistics:!0},query:_data_QueryEngineCapabilities_js__WEBPACK_IMPORTED_MODULE_2__.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:s,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}\n\n\n//# sourceURL=webpack://wind-es/./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getCollectionDefinition\": () => (/* binding */ I),\n/* harmony export */   \"getServerCollections\": () => (/* binding */ T),\n/* harmony export */   \"getServerConformance\": () => (/* binding */ k),\n/* harmony export */   \"getServerLandingPage\": () => (/* binding */ S),\n/* harmony export */   \"getServerOpenApi\": () => (/* binding */ x),\n/* harmony export */   \"getSpatialReference\": () => (/* binding */ N),\n/* harmony export */   \"queryFeatureSet\": () => (/* binding */ v),\n/* harmony export */   \"queryFeatureSetJSON\": () => (/* binding */ q),\n/* harmony export */   \"queryOptimizedFeatureSet\": () => (/* binding */ M)\n/* harmony export */ });\n/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry.js */ \"./node_modules/@arcgis/core/geometry.js\");\n/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../request.js */ \"./node_modules/@arcgis/core/request.js\");\n/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Error.js */ \"./node_modules/@arcgis/core/core/Error.js\");\n/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Logger.js */ \"./node_modules/@arcgis/core/core/Logger.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../geometry/support/spatialReferenceUtils.js */ \"./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js\");\n/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/support/webMercatorUtils.js */ \"./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js\");\n/* harmony import */ var _graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graphics/featureConversionUtils.js */ \"./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js\");\n/* harmony import */ var _graphics_OptimizedFeatureSet_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../graphics/OptimizedFeatureSet.js */ \"./node_modules/@arcgis/core/layers/graphics/OptimizedFeatureSet.js\");\n/* harmony import */ var _graphics_sources_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../graphics/sources/geojson/geojson.js */ \"./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js\");\n/* harmony import */ var _graphics_sources_support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../graphics/sources/support/clientSideDefaults.js */ \"./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js\");\n/* harmony import */ var _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../support/FieldsIndex.js */ \"./node_modules/@arcgis/core/layers/support/FieldsIndex.js\");\n/* harmony import */ var _support_fieldType_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../support/fieldType.js */ \"./node_modules/@arcgis/core/layers/support/fieldType.js\");\n/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../rest/support/FeatureSet.js */ \"./node_modules/@arcgis/core/rest/support/FeatureSet.js\");\n/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ \"./node_modules/@arcgis/core/geometry/SpatialReference.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nconst F=_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__.default.getLogger(\"esri.layers.graphics.sources.ogcfeature\");async function I(i,r,a={},o=5){const{links:s}=i,l=G(s,\"items\",\"application/geo+json\")||G(s,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isNone)(l))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__.default(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{data:c}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__.default)(l.href,{signal:a.signal,query:{limit:o,...a.customParameters,token:a.apiKey},headers:{accept:\"application/geo+json\"}});await (0,_graphics_sources_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_9__.validateGeoJSON)(c);const d=(0,_graphics_sources_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_9__.inferLayerProperties)(c,{geometryType:r.geometryType}),u=r.fields||d.fields||[],m=null!=r.hasZ?r.hasZ:d.hasZ,g=d.geometryType,h=r.objectIdField||d.objectIdFieldName||\"OBJECTID\";let j=r.timeInfo;const I=u.find((e=>e.name===h));if(!I){if(!d.objectIdFieldType)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__.default(\"ogc-feature-layer:missing-feature-id\",\"Collection geojson require a feature id as a unique identifier\");u.unshift({name:h,alias:h,type:\"esriFieldTypeOID\",editable:!1,nullable:!1})}else I.type=\"esriFieldTypeOID\",I.editable=!1,I.nullable=!1;if(h!==d.objectIdFieldName){const e=u.find((e=>e.name===d.objectIdFieldName));e&&(e.type=\"esriFieldTypeInteger\")}u===d.fields&&d.unknownFields.length>0&&F.warn({name:\"ogc-feature-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:d.unknownFields}});for(const e of u){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type&&(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable),!e.name)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__.default(\"ogc-feature-layer:invalid-field-name\",\"field name is missing\",{field:e});if(-1===_support_fieldType_js__WEBPACK_IMPORTED_MODULE_12__.kebabDict.jsonValues.indexOf(e.type))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__.default(\"ogc-feature-layer:invalid-field-type\",`invalid type for field \"${e.name}\"`,{field:e})}if(j){const e=new _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_11__.default(u);if(j.startTimeField){const t=e.get(j.startTimeField);t?(j.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):j.startTimeField=null}if(j.endTimeField){const t=e.get(j.endTimeField);t?(j.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):j.endTimeField=null}if(j.trackIdField){const t=e.get(j.trackIdField);t?j.trackIdField=t.name:(j.trackIdField=null,F.warn({name:\"ogc-feature-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:j}}))}j.startTimeField||j.endTimeField||(F.warn({name:\"ogc-feature-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:j}}),j=null)}return{drawingInfo:g?(0,_graphics_sources_support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_10__.createDrawingInfo)(g):null,geometryType:g,fields:u,hasZ:!!m,objectIdField:h,timeInfo:j}}async function T(i,r={}){const{links:a}=i,o=G(a,\"data\",\"application/json\")||G(a,\"http://www.opengis.net/def/rel/ogc/1.0/data\",\"application/json\");if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isNone)(o))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__.default(\"ogc-feature-layer:missing-collections-page\",\"Missing collections url\");const{apiKey:s,customParameters:l,signal:c}=r,{data:d}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__.default)(o.href,{signal:c,headers:{accept:\"application/json\"},query:{...l,token:s}});return d}async function k(i,r={}){const{links:a}=i,o=G(a,\"conformance\",\"application/json\")||G(a,\"http://www.opengis.net/def/rel/ogc/1.0/conformance\",\"application/json\");if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isNone)(o))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__.default(\"ogc-feature-layer:missing-conformance-page\",\"Missing conformance url\");const{apiKey:s,customParameters:l,signal:c}=r,{data:d}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__.default)(o.href,{signal:c,headers:{accept:\"application/json\"},query:{...l,token:s}});return d}async function S(t,i={}){const{apiKey:n,customParameters:r,signal:a}=i,{data:o}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__.default)(t,{signal:a,headers:{accept:\"application/json\"},query:{...r,token:n}});return o}async function x(t,i={}){const r=\"application/vnd.oai.openapi+json;version=3.0\",a=G(t.links,\"service-desc\",r);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isNone)(a))return F.warn(\"ogc-feature-layer:missing-openapi-page\",\"The OGC API-Features server does not have an OpenAPI page.\"),null;const{apiKey:o,customParameters:s,signal:l}=i,{data:c}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__.default)(a.href,{signal:l,headers:{accept:r},query:{...s,token:o}});return c}function N(e){const t=/^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(?<authority>.*)\\/(?<version>.*)\\/(?<code>.*)$/i.exec(e),i=null==t?void 0:t.groups;if(!i)return null;const{authority:n,code:r}=i;switch(n.toLowerCase()){case\"ogc\":switch(r.toLowerCase()){case\"crs27\":return _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__.default.GCS_NAD_1927;case\"crs83\":return new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__.default({wkid:4269});case\"crs84\":case\"crs84h\":return _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__.default.WGS84;default:return null}case\"esri\":case\"epsg\":{const e=Number.parseInt(r,10);return Number.isNaN(e)?null:900913===e?_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__.default.WebMercator:new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__.default({wkid:e})}default:return null}}async function v(e,t,i){const n=await q(e,t,i);return _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_13__.default.fromJSON(n)}async function q(e,t,i){const n=await M(e,t,i);return (0,_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__.convertToFeatureSet)(n)}async function M(i,s,c){const{capabilities:{query:{maxRecordCount:p}},collection:f,layerDefinition:y,queryParameters:{apiKey:w,customParameters:b},spatialReference:h,supportedCrs:F}=i,{links:I}=f,T=G(I,\"items\",\"application/geo+json\")||G(I,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isNone)(T))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__.default(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{geometry:k,num:S,start:x,timeExtent:N,where:v}=s;if(s.objectIds)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__.default(\"ogc-feature-layer:query-by-objectids-not-supported\",\"Queries with objectids are not supported\");const q=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__.default.fromJSON(h),M=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.unwrapOr)(s.outSpatialReference,q),O=M.isWGS84?null:D(M,F),R=W(k,F),$=C(N),Z=P(v),K=null!=S?S:null!=x&&void 0!==x?10:p,{data:L}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__.default)(T.href,{...c,query:{...b,...R,crs:O,datetime:$,query:Z,limit:K,startindex:x,token:w},headers:{accept:\"application/geo+json\"}});let J=!1;if(L.links){J=!!L.links.find((e=>\"next\"===e.rel))}!J&&Number.isInteger(L.numberMatched)&&Number.isInteger(L.numberReturned)&&(J=L.numberReturned<L.numberMatched);const{fields:A,globalIdField:E,hasM:U,hasZ:_,objectIdField:z}=y,B=y.geometryType,Q=(0,_graphics_sources_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_9__.createOptimizedFeatures)(L,{geometryType:B,hasZ:_,objectIdField:z});if(!O&&M.isWebMercator)for(const e of Q)if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(e.geometry)){const t=(0,_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__.convertToGeometry)(e.geometry,B,_,!1);t.spatialReference=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__.default.WGS84,e.geometry=(0,_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__.convertFromGeometry)((0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_6__.project)(t,M))}for(const e of Q)e.objectId=e.attributes[z];const V=O||!O&&M.isWebMercator?M.toJSON():_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.WGS84,H=new _graphics_OptimizedFeatureSet_js__WEBPACK_IMPORTED_MODULE_8__.default;return H.exceededTransferLimit=J,H.features=Q,H.fields=A,H.geometryType=B,H.globalIdFieldName=E,H.hasM=U,H.hasZ=_,H.objectIdFieldName=z,H.spatialReference=V,H}function O(e){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(e)&&\"extent\"===e.type}function D(e,t){return t.find((t=>{const i=N(t);return (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.equals)(i,e)}))}function R(e){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isNone)(e))return\"\";const{xmin:t,ymin:i,xmax:r,ymax:a}=e;return`${t},${i},${r},${a}`}function C(e){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isNone)(e))return null;const{start:t,end:i}=e;return`${(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(t)?t.toISOString():\"..\"}/${(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(i)?i.toISOString():\"..\"}`}function P(e){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isNone)(e)||!e||\"1=1\"===e?null:e}function W(e,t){if(!O(e))return null;const{spatialReference:i}=e;if(!i||i.isWGS84)return{bbox:R(e)};const n=D(i,t);return n?{bbox:R(e),\"bbox-crs\":n}:i.isWebMercator?{bbox:R((0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_6__.project)(e,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__.default.WGS84))}:null}function G(e,t,i){return e.find((e=>e.rel===t&&e.type===i))||e.find((e=>e.rel===t&&!e.type))}\n\n\n//# sourceURL=webpack://wind-es/./node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js?");

/***/ })

}]);